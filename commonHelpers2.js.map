{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst localStorageFeedbackKey = 'feedback-form-state';\n\ntry {\n    const initialFormData = JSON.parse(\n    localStorage.getItem(localStorageFeedbackKey)\n    );\n    \n    if (typeof initialFormData === 'object' && initialFormData !== null) {\n        formEl.elements.email.value = email;\n        formEl.elements.message.value = message;\n    };\n}\ncatch {\n    if (!JSON.parse(localStorage.getItem(localStorageFeedbackKey))) {\n        console.log();\n    }\n    else console.error('PARSE FORM STORAGE ERROR');\n}\n\nformEl.addEventListener('input', e => {\n    const data = new FormData(formEl);\n    const userFeedback = {};\n\n    data.forEach((value, key) => {\n    userFeedback[key] = value.trim();\n    \n    });\n    localStorage.setItem(localStorageFeedbackKey, JSON.stringify(userFeedback));\n});\n\n\n\n\nformEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const email = formEl.elements.email.value.trim();\n    const message = formEl.elements.message.value.trim();\n    if (!email  || !message) {\n        alert('All form fields must be filled in');\n    } else {\n        const storageInfo = JSON.parse(localStorage.getItem(localStorageFeedbackKey));\n    \n    localStorage.removeItem(localStorageFeedbackKey);\n        formEl.reset();\n        console.log(storageInfo);\n    }\n});\n\n"],"names":["formEl","localStorageFeedbackKey","initialFormData","e","data","userFeedback","value","key","email","message","storageInfo"],"mappings":"oCAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAA0B,sBAEhC,GAAI,CACA,MAAMC,EAAkB,KAAK,MAC7B,aAAa,QAAQD,CAAuB,CAChD,EAEQ,OAAOC,GAAoB,UAAYA,IAAoB,OAC3DF,EAAO,SAAS,MAAM,MAAQ,MAC9BA,EAAO,SAAS,QAAQ,MAAQ,QAExC,MACA,CACS,KAAK,MAAM,aAAa,QAAQC,CAAuB,CAAC,EAGxD,QAAQ,MAAM,0BAA0B,EAFzC,QAAQ,IAAG,CAGnB,CAEAD,EAAO,iBAAiB,QAASG,GAAK,CAClC,MAAMC,EAAO,IAAI,SAASJ,CAAM,EAC1BK,EAAe,CAAA,EAErBD,EAAK,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAaE,GAAOD,EAAM,KAAI,CAElC,CAAK,EACD,aAAa,QAAQL,EAAyB,KAAK,UAAUI,CAAY,CAAC,CAC9E,CAAC,EAKDL,EAAO,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMK,EAAQR,EAAO,SAAS,MAAM,MAAM,OACpCS,EAAUT,EAAO,SAAS,QAAQ,MAAM,OAC9C,GAAI,CAACQ,GAAU,CAACC,EACZ,MAAM,mCAAmC,MACtC,CACH,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQT,CAAuB,CAAC,EAEhF,aAAa,WAAWA,CAAuB,EAC3CD,EAAO,MAAK,EACZ,QAAQ,IAAIU,CAAW,CAC1B,CACL,CAAC"}