{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst localStorageFeedbackKey = 'feedback-form-state';\n\nformEl.addEventListener('input', e => {\n    const data = new FormData(formEl);\n    const userFeedback = {};\n\n    data.forEach((value, key) => {\n    userFeedback[key] = value.trim();\n    \n    });\n    localStorage.setItem(localStorageFeedbackKey, JSON.stringify(userFeedback));\n});\n\n\n\nformEl.addEventListener('submit', e => {\n    e.preventDefault();\n    const emailUserForm = formEl.elements.email.value.trim();\n    const messageUserForm = formEl.elements.message.value.trim();\n    if (!emailUserForm  || !messageUserForm) {\n        alert('All form fields must be filled in');\n    } else {\n        const storageInfo = JSON.parse(localStorage.getItem(localStorageFeedbackKey));\n    \n    localStorage.removeItem(localStorageFeedbackKey);\n        formEl.reset();\n        console.log(storageInfo);\n    }\n});\n\ntry {\n    const initialFormData = JSON.parse(\n    localStorage.getItem(localStorageFeedbackKey)\n    );\n    const {email, message} = initialFormData;\n    \n    if (initialFormData) {\n        form.elements.email.value = email;\n        form.elements.message.value = message;\n    };\n}\ncatch {\n    if (!JSON.parse(localStorage.getItem(localStorageFeedbackKey))) {\n        console.log();\n    }\n    else console.error('PARSE FORM STORAGE ERROR');\n}\n"],"names":["formEl","localStorageFeedbackKey","e","data","userFeedback","value","key","emailUserForm","messageUserForm","storageInfo","initialFormData","email","message"],"mappings":"oCAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAA0B,sBAEhCD,EAAO,iBAAiB,QAASE,GAAK,CAClC,MAAMC,EAAO,IAAI,SAASH,CAAM,EAC1BI,EAAe,CAAA,EAErBD,EAAK,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAaE,GAAOD,EAAM,KAAI,CAElC,CAAK,EACD,aAAa,QAAQJ,EAAyB,KAAK,UAAUG,CAAY,CAAC,CAC9E,CAAC,EAIDJ,EAAO,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAc,EAChB,MAAMK,EAAgBP,EAAO,SAAS,MAAM,MAAM,OAC5CQ,EAAkBR,EAAO,SAAS,QAAQ,MAAM,OACtD,GAAI,CAACO,GAAkB,CAACC,EACpB,MAAM,mCAAmC,MACtC,CACH,MAAMC,EAAc,KAAK,MAAM,aAAa,QAAQR,CAAuB,CAAC,EAEhF,aAAa,WAAWA,CAAuB,EAC3CD,EAAO,MAAK,EACZ,QAAQ,IAAIS,CAAW,CAC1B,CACL,CAAC,EAED,GAAI,CACA,MAAMC,EAAkB,KAAK,MAC7B,aAAa,QAAQT,CAAuB,CAChD,EACU,CAAC,MAAAU,EAAO,QAAAC,CAAO,EAAIF,EAErBA,IACA,KAAK,SAAS,MAAM,MAAQC,EAC5B,KAAK,SAAS,QAAQ,MAAQC,EAEtC,MACA,CACS,KAAK,MAAM,aAAa,QAAQX,CAAuB,CAAC,EAGxD,QAAQ,MAAM,0BAA0B,EAFzC,QAAQ,IAAG,CAGnB"}